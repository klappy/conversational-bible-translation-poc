
import {createRequire as ___nfyCreateRequire} from "module";
import {fileURLToPath as ___nfyFileURLToPath} from "url";
import {dirname as ___nfyPathDirname} from "path";
let __filename=___nfyFileURLToPath(import.meta.url);
let __dirname=___nfyPathDirname(___nfyFileURLToPath(import.meta.url));
let require=___nfyCreateRequire(import.meta.url);


// netlify/functions/canvas-state.js
import { promises as fs } from "fs";
import { join } from "path";
var STATE_FILE = join("/tmp", "canvas-state.json");
var DEFAULT_STATE = {
  styleGuide: {
    languagePair: "English \u2192 English",
    readingLevel: "Grade 1",
    tone: "Narrator, engaging tone",
    philosophy: "Meaning-based"
  },
  glossary: {
    terms: {}
  },
  scriptureCanvas: {
    verses: {}
  },
  feedback: {
    comments: []
  },
  workflow: {
    currentPhase: "planning",
    currentVerse: "Ruth 1:1",
    currentPhrase: 0,
    phrasesCompleted: {},
    totalPhrases: 0
  },
  metadata: {
    lastUpdated: (/* @__PURE__ */ new Date()).toISOString(),
    version: 1
  }
};
async function loadState() {
  try {
    const data = await fs.readFile(STATE_FILE, "utf8");
    return JSON.parse(data);
  } catch (error) {
    return { ...DEFAULT_STATE };
  }
}
async function saveState(state) {
  try {
    await fs.writeFile(STATE_FILE, JSON.stringify(state, null, 2));
    return true;
  } catch (error) {
    console.error("Error saving state:", error);
    return false;
  }
}
async function getState() {
  const globalState = await loadState();
  return {
    ...globalState,
    metadata: {
      ...globalState.metadata,
      retrieved: (/* @__PURE__ */ new Date()).toISOString()
    }
  };
}
async function updateState(updates, agentId = "user") {
  try {
    if (!updates || typeof updates !== "object") {
      throw new Error("Invalid updates provided");
    }
    let globalState = await loadState();
    globalState = deepMerge(globalState, updates);
    globalState.metadata.lastUpdated = (/* @__PURE__ */ new Date()).toISOString();
    globalState.metadata.version = (globalState.metadata.version || 1) + 1;
    await saveState(globalState);
    return {
      success: true,
      state: await getState()
    };
  } catch (error) {
    return {
      success: false,
      error: error.message
    };
  }
}
async function resetState() {
  const globalState = {
    styleGuide: {
      languagePair: "English \u2192 English",
      readingLevel: "Grade 1",
      tone: "Narrator, engaging tone",
      philosophy: "Meaning-based"
    },
    glossary: {
      terms: {}
    },
    scriptureCanvas: {
      verses: {}
    },
    feedback: {
      comments: []
    },
    workflow: {
      currentPhase: "planning",
      currentVerse: "Ruth 1:1",
      currentPhrase: 0,
      phrasesCompleted: {},
      totalPhrases: 0
    },
    metadata: {
      lastUpdated: (/* @__PURE__ */ new Date()).toISOString(),
      version: 1
    }
  };
  await saveState(globalState);
  return getState();
}
function deepMerge(target, source) {
  const output = { ...target };
  if (isObject(target) && isObject(source)) {
    Object.keys(source).forEach((key) => {
      if (isObject(source[key])) {
        if (!(key in target)) {
          output[key] = source[key];
        } else {
          output[key] = deepMerge(target[key], source[key]);
        }
      } else {
        output[key] = source[key];
      }
    });
  }
  return output;
}
function isObject(item) {
  return item && typeof item === "object" && !Array.isArray(item);
}
var handler = async (req, context) => {
  const headers = {
    "Access-Control-Allow-Origin": "*",
    "Access-Control-Allow-Headers": "Content-Type",
    "Access-Control-Allow-Methods": "GET, POST, PUT, DELETE, OPTIONS",
    "Content-Type": "application/json"
  };
  if (req.method === "OPTIONS") {
    return new Response("OK", { headers });
  }
  try {
    const url = new URL(req.url);
    const path = url.pathname.replace("/.netlify/functions/canvas-state", "");
    if (req.method === "GET" && (path === "" || path === "/")) {
      const state = await getState();
      return new Response(JSON.stringify(state), {
        status: 200,
        headers
      });
    }
    if (req.method === "GET" && path === "/history") {
      const state = await getState();
      return new Response(JSON.stringify({
        history: [],
        // No longer storing history with file-based approach
        currentState: state
      }), {
        status: 200,
        headers
      });
    }
    if (req.method === "POST" && path === "/update") {
      const body = await req.json();
      const { updates, agentId } = body;
      const result = await updateState(updates, agentId);
      return new Response(JSON.stringify(result), {
        status: result.success ? 200 : 400,
        headers
      });
    }
    if (req.method === "POST" && path === "/reset") {
      const state = await resetState();
      return new Response(JSON.stringify({
        success: true,
        state
      }), {
        status: 200,
        headers
      });
    }
    return new Response(JSON.stringify({
      error: `Method ${req.method} not allowed for path ${path}`
    }), {
      status: 405,
      headers
    });
  } catch (error) {
    console.error("Canvas state error:", error);
    return new Response(JSON.stringify({
      error: "Failed to process canvas state request",
      details: error.message
    }), {
      status: 500,
      headers: {
        ...headers,
        "Content-Type": "application/json"
      }
    });
  }
};
var canvas_state_default = handler;
export {
  canvas_state_default as default
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibmV0bGlmeS9mdW5jdGlvbnMvY2FudmFzLXN0YXRlLmpzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyIvKipcbiAqIENhbnZhcyBTdGF0ZSBNYW5hZ2VtZW50XG4gKiBNYW5hZ2VzIHRoZSBzdGF0ZSBvZiBhbGwgY2FudmFzIGFydGlmYWN0cyBzZXJ2ZXItc2lkZVxuICogVGhpcyBpcyB0aGUgc2luZ2xlIHNvdXJjZSBvZiB0cnV0aCBmb3IgdGhlIGFwcGxpY2F0aW9uIHN0YXRlXG4gKi9cblxuaW1wb3J0IHsgcHJvbWlzZXMgYXMgZnMgfSBmcm9tICdmcyc7XG5pbXBvcnQgeyBqb2luIH0gZnJvbSAncGF0aCc7XG5cbi8vIFN0YXRlIGZpbGUgcGF0aCAoaW4gdGVtcCBkaXJlY3RvcnkgZm9yIGxvY2FsIGRldilcbmNvbnN0IFNUQVRFX0ZJTEUgPSBqb2luKCcvdG1wJywgJ2NhbnZhcy1zdGF0ZS5qc29uJyk7XG5cbi8vIERlZmF1bHQgc3RhdGVcbmNvbnN0IERFRkFVTFRfU1RBVEUgPSB7XG4gIHN0eWxlR3VpZGU6IHtcbiAgICBsYW5ndWFnZVBhaXI6IFwiRW5nbGlzaCBcdTIxOTIgRW5nbGlzaFwiLFxuICAgIHJlYWRpbmdMZXZlbDogXCJHcmFkZSAxXCIsXG4gICAgdG9uZTogXCJOYXJyYXRvciwgZW5nYWdpbmcgdG9uZVwiLFxuICAgIHBoaWxvc29waHk6IFwiTWVhbmluZy1iYXNlZFwiXG4gIH0sXG4gIGdsb3NzYXJ5OiB7XG4gICAgdGVybXM6IHt9XG4gIH0sXG4gIHNjcmlwdHVyZUNhbnZhczoge1xuICAgIHZlcnNlczoge31cbiAgfSxcbiAgZmVlZGJhY2s6IHtcbiAgICBjb21tZW50czogW11cbiAgfSxcbiAgd29ya2Zsb3c6IHtcbiAgICBjdXJyZW50UGhhc2U6IFwicGxhbm5pbmdcIixcbiAgICBjdXJyZW50VmVyc2U6IFwiUnV0aCAxOjFcIixcbiAgICBjdXJyZW50UGhyYXNlOiAwLFxuICAgIHBocmFzZXNDb21wbGV0ZWQ6IHt9LFxuICAgIHRvdGFsUGhyYXNlczogMFxuICB9LFxuICBtZXRhZGF0YToge1xuICAgIGxhc3RVcGRhdGVkOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgdmVyc2lvbjogMVxuICB9XG59O1xuXG4vKipcbiAqIExvYWQgc3RhdGUgZnJvbSBmaWxlIG9yIHJldHVybiBkZWZhdWx0XG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGxvYWRTdGF0ZSgpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgZnMucmVhZEZpbGUoU1RBVEVfRklMRSwgJ3V0ZjgnKTtcbiAgICByZXR1cm4gSlNPTi5wYXJzZShkYXRhKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAvLyBGaWxlIGRvZXNuJ3QgZXhpc3Qgb3IgaXMgaW52YWxpZCwgcmV0dXJuIGRlZmF1bHRcbiAgICByZXR1cm4geyAuLi5ERUZBVUxUX1NUQVRFIH07XG4gIH1cbn1cblxuLyoqXG4gKiBTYXZlIHN0YXRlIHRvIGZpbGVcbiAqL1xuYXN5bmMgZnVuY3Rpb24gc2F2ZVN0YXRlKHN0YXRlKSB7XG4gIHRyeSB7XG4gICAgYXdhaXQgZnMud3JpdGVGaWxlKFNUQVRFX0ZJTEUsIEpTT04uc3RyaW5naWZ5KHN0YXRlLCBudWxsLCAyKSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3Igc2F2aW5nIHN0YXRlOicsIGVycm9yKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuLyoqXG4gKiBHZXQgdGhlIGN1cnJlbnQgc3RhdGVcbiAqL1xuYXN5bmMgZnVuY3Rpb24gZ2V0U3RhdGUoKSB7XG4gIGNvbnN0IGdsb2JhbFN0YXRlID0gYXdhaXQgbG9hZFN0YXRlKCk7XG4gIHJldHVybiB7XG4gICAgLi4uZ2xvYmFsU3RhdGUsXG4gICAgbWV0YWRhdGE6IHtcbiAgICAgIC4uLmdsb2JhbFN0YXRlLm1ldGFkYXRhLFxuICAgICAgcmV0cmlldmVkOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICB9XG4gIH07XG59XG5cbi8qKlxuICogVXBkYXRlIHRoZSBzdGF0ZSB3aXRoIHZhbGlkYXRpb25cbiAqL1xuYXN5bmMgZnVuY3Rpb24gdXBkYXRlU3RhdGUodXBkYXRlcywgYWdlbnRJZCA9ICd1c2VyJykge1xuICB0cnkge1xuICAgIC8vIFZhbGlkYXRlIHVwZGF0ZXNcbiAgICBpZiAoIXVwZGF0ZXMgfHwgdHlwZW9mIHVwZGF0ZXMgIT09ICdvYmplY3QnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgdXBkYXRlcyBwcm92aWRlZCcpO1xuICAgIH1cblxuICAgIC8vIExvYWQgY3VycmVudCBzdGF0ZVxuICAgIGxldCBnbG9iYWxTdGF0ZSA9IGF3YWl0IGxvYWRTdGF0ZSgpO1xuXG4gICAgLy8gQXBwbHkgdXBkYXRlcyAoZGVlcCBtZXJnZSlcbiAgICBnbG9iYWxTdGF0ZSA9IGRlZXBNZXJnZShnbG9iYWxTdGF0ZSwgdXBkYXRlcyk7XG4gICAgXG4gICAgLy8gVXBkYXRlIG1ldGFkYXRhXG4gICAgZ2xvYmFsU3RhdGUubWV0YWRhdGEubGFzdFVwZGF0ZWQgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG4gICAgZ2xvYmFsU3RhdGUubWV0YWRhdGEudmVyc2lvbiA9IChnbG9iYWxTdGF0ZS5tZXRhZGF0YS52ZXJzaW9uIHx8IDEpICsgMTtcblxuICAgIC8vIFNhdmUgdG8gZmlsZVxuICAgIGF3YWl0IHNhdmVTdGF0ZShnbG9iYWxTdGF0ZSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIHN0YXRlOiBhd2FpdCBnZXRTdGF0ZSgpXG4gICAgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICBlcnJvcjogZXJyb3IubWVzc2FnZVxuICAgIH07XG4gIH1cbn1cblxuLyoqXG4gKiBSZXNldCBzdGF0ZSB0byBpbml0aWFsIHZhbHVlc1xuICovXG5hc3luYyBmdW5jdGlvbiByZXNldFN0YXRlKCkge1xuICBjb25zdCBnbG9iYWxTdGF0ZSA9IHtcbiAgICBzdHlsZUd1aWRlOiB7XG4gICAgICBsYW5ndWFnZVBhaXI6IFwiRW5nbGlzaCBcdTIxOTIgRW5nbGlzaFwiLFxuICAgICAgcmVhZGluZ0xldmVsOiBcIkdyYWRlIDFcIixcbiAgICAgIHRvbmU6IFwiTmFycmF0b3IsIGVuZ2FnaW5nIHRvbmVcIixcbiAgICAgIHBoaWxvc29waHk6IFwiTWVhbmluZy1iYXNlZFwiXG4gICAgfSxcbiAgICBnbG9zc2FyeToge1xuICAgICAgdGVybXM6IHt9XG4gICAgfSxcbiAgICBzY3JpcHR1cmVDYW52YXM6IHtcbiAgICAgIHZlcnNlczoge31cbiAgICB9LFxuICAgIGZlZWRiYWNrOiB7XG4gICAgICBjb21tZW50czogW11cbiAgICB9LFxuICAgIHdvcmtmbG93OiB7XG4gICAgICBjdXJyZW50UGhhc2U6IFwicGxhbm5pbmdcIixcbiAgICAgIGN1cnJlbnRWZXJzZTogXCJSdXRoIDE6MVwiLFxuICAgICAgY3VycmVudFBocmFzZTogMCxcbiAgICAgIHBocmFzZXNDb21wbGV0ZWQ6IHt9LFxuICAgICAgdG90YWxQaHJhc2VzOiAwXG4gICAgfSxcbiAgICBtZXRhZGF0YToge1xuICAgICAgbGFzdFVwZGF0ZWQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIHZlcnNpb246IDFcbiAgICB9XG4gIH07XG4gIGF3YWl0IHNhdmVTdGF0ZShnbG9iYWxTdGF0ZSk7XG4gIHJldHVybiBnZXRTdGF0ZSgpO1xufVxuXG4vKipcbiAqIERlZXAgbWVyZ2UgdXRpbGl0eSBmdW5jdGlvblxuICovXG5mdW5jdGlvbiBkZWVwTWVyZ2UodGFyZ2V0LCBzb3VyY2UpIHtcbiAgY29uc3Qgb3V0cHV0ID0geyAuLi50YXJnZXQgfTtcbiAgXG4gIGlmIChpc09iamVjdCh0YXJnZXQpICYmIGlzT2JqZWN0KHNvdXJjZSkpIHtcbiAgICBPYmplY3Qua2V5cyhzb3VyY2UpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgIGlmIChpc09iamVjdChzb3VyY2Vba2V5XSkpIHtcbiAgICAgICAgaWYgKCEoa2V5IGluIHRhcmdldCkpIHtcbiAgICAgICAgICBvdXRwdXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG91dHB1dFtrZXldID0gZGVlcE1lcmdlKHRhcmdldFtrZXldLCBzb3VyY2Vba2V5XSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG91dHB1dFtrZXldID0gc291cmNlW2tleV07XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgXG4gIHJldHVybiBvdXRwdXQ7XG59XG5cbmZ1bmN0aW9uIGlzT2JqZWN0KGl0ZW0pIHtcbiAgcmV0dXJuIGl0ZW0gJiYgdHlwZW9mIGl0ZW0gPT09ICdvYmplY3QnICYmICFBcnJheS5pc0FycmF5KGl0ZW0pO1xufVxuXG4vKipcbiAqIE5ldGxpZnkgRnVuY3Rpb24gSGFuZGxlclxuICovXG5jb25zdCBoYW5kbGVyID0gYXN5bmMgKHJlcSwgY29udGV4dCkgPT4ge1xuICAvLyBFbmFibGUgQ09SU1xuICBjb25zdCBoZWFkZXJzID0ge1xuICAgIFwiQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luXCI6IFwiKlwiLFxuICAgIFwiQWNjZXNzLUNvbnRyb2wtQWxsb3ctSGVhZGVyc1wiOiBcIkNvbnRlbnQtVHlwZVwiLFxuICAgIFwiQWNjZXNzLUNvbnRyb2wtQWxsb3ctTWV0aG9kc1wiOiBcIkdFVCwgUE9TVCwgUFVULCBERUxFVEUsIE9QVElPTlNcIixcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxuICB9O1xuXG4gIC8vIEhhbmRsZSBwcmVmbGlnaHRcbiAgaWYgKHJlcS5tZXRob2QgPT09IFwiT1BUSU9OU1wiKSB7XG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZShcIk9LXCIsIHsgaGVhZGVycyB9KTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgY29uc3QgdXJsID0gbmV3IFVSTChyZXEudXJsKTtcbiAgICBjb25zdCBwYXRoID0gdXJsLnBhdGhuYW1lLnJlcGxhY2UoJy8ubmV0bGlmeS9mdW5jdGlvbnMvY2FudmFzLXN0YXRlJywgJycpO1xuXG4gIC8vIEdFVCAvc3RhdGUgLSBHZXQgY3VycmVudCBzdGF0ZVxuICBpZiAocmVxLm1ldGhvZCA9PT0gXCJHRVRcIiAmJiAocGF0aCA9PT0gXCJcIiB8fCBwYXRoID09PSBcIi9cIikpIHtcbiAgICBjb25zdCBzdGF0ZSA9IGF3YWl0IGdldFN0YXRlKCk7XG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZShKU09OLnN0cmluZ2lmeShzdGF0ZSksIHsgXG4gICAgICBzdGF0dXM6IDIwMCwgXG4gICAgICBoZWFkZXJzIFxuICAgIH0pO1xuICB9XG5cbiAgLy8gR0VUIC9oaXN0b3J5IC0gR2V0IHN0YXRlIGhpc3RvcnkgKGRlcHJlY2F0ZWQgZm9yIGZpbGUtYmFzZWQgc3RvcmFnZSlcbiAgaWYgKHJlcS5tZXRob2QgPT09IFwiR0VUXCIgJiYgcGF0aCA9PT0gXCIvaGlzdG9yeVwiKSB7XG4gICAgY29uc3Qgc3RhdGUgPSBhd2FpdCBnZXRTdGF0ZSgpO1xuICAgIHJldHVybiBuZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkoeyBcbiAgICAgIGhpc3Rvcnk6IFtdLCAgLy8gTm8gbG9uZ2VyIHN0b3JpbmcgaGlzdG9yeSB3aXRoIGZpbGUtYmFzZWQgYXBwcm9hY2hcbiAgICAgIGN1cnJlbnRTdGF0ZTogc3RhdGVcbiAgICB9KSwgeyBcbiAgICAgIHN0YXR1czogMjAwLCBcbiAgICAgIGhlYWRlcnMgXG4gICAgfSk7XG4gIH1cblxuICAgIC8vIFBPU1QgL3VwZGF0ZSAtIFVwZGF0ZSBzdGF0ZVxuICAgIGlmIChyZXEubWV0aG9kID09PSBcIlBPU1RcIiAmJiBwYXRoID09PSBcIi91cGRhdGVcIikge1xuICAgICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcS5qc29uKCk7XG4gICAgICBjb25zdCB7IHVwZGF0ZXMsIGFnZW50SWQgfSA9IGJvZHk7XG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHVwZGF0ZVN0YXRlKHVwZGF0ZXMsIGFnZW50SWQpO1xuICAgICAgXG4gICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKEpTT04uc3RyaW5naWZ5KHJlc3VsdCksIHtcbiAgICAgICAgc3RhdHVzOiByZXN1bHQuc3VjY2VzcyA/IDIwMCA6IDQwMCxcbiAgICAgICAgaGVhZGVyc1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gUE9TVCAvcmVzZXQgLSBSZXNldCBzdGF0ZVxuICAgIGlmIChyZXEubWV0aG9kID09PSBcIlBPU1RcIiAmJiBwYXRoID09PSBcIi9yZXNldFwiKSB7XG4gICAgICBjb25zdCBzdGF0ZSA9IGF3YWl0IHJlc2V0U3RhdGUoKTtcbiAgICAgIFxuICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIHN0YXRlXG4gICAgICB9KSwge1xuICAgICAgICBzdGF0dXM6IDIwMCxcbiAgICAgICAgaGVhZGVyc1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gTWV0aG9kIG5vdCBhbGxvd2VkXG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZShKU09OLnN0cmluZ2lmeSh7IFxuICAgICAgZXJyb3I6IGBNZXRob2QgJHtyZXEubWV0aG9kfSBub3QgYWxsb3dlZCBmb3IgcGF0aCAke3BhdGh9YCBcbiAgICB9KSwgeyBcbiAgICAgIHN0YXR1czogNDA1LCBcbiAgICAgIGhlYWRlcnMgXG4gICAgfSk7XG5cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiQ2FudmFzIHN0YXRlIGVycm9yOlwiLCBlcnJvcik7XG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZShKU09OLnN0cmluZ2lmeSh7IFxuICAgICAgZXJyb3I6IFwiRmFpbGVkIHRvIHByb2Nlc3MgY2FudmFzIHN0YXRlIHJlcXVlc3RcIixcbiAgICAgIGRldGFpbHM6IGVycm9yLm1lc3NhZ2VcbiAgICB9KSwge1xuICAgICAgc3RhdHVzOiA1MDAsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIC4uLmhlYWRlcnMsXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IGhhbmRsZXI7XG4iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7O0FBTUEsU0FBUyxZQUFZLFVBQVU7QUFDL0IsU0FBUyxZQUFZO0FBR3JCLElBQU0sYUFBYSxLQUFLLFFBQVEsbUJBQW1CO0FBR25ELElBQU0sZ0JBQWdCO0FBQUEsRUFDcEIsWUFBWTtBQUFBLElBQ1YsY0FBYztBQUFBLElBQ2QsY0FBYztBQUFBLElBQ2QsTUFBTTtBQUFBLElBQ04sWUFBWTtBQUFBLEVBQ2Q7QUFBQSxFQUNBLFVBQVU7QUFBQSxJQUNSLE9BQU8sQ0FBQztBQUFBLEVBQ1Y7QUFBQSxFQUNBLGlCQUFpQjtBQUFBLElBQ2YsUUFBUSxDQUFDO0FBQUEsRUFDWDtBQUFBLEVBQ0EsVUFBVTtBQUFBLElBQ1IsVUFBVSxDQUFDO0FBQUEsRUFDYjtBQUFBLEVBQ0EsVUFBVTtBQUFBLElBQ1IsY0FBYztBQUFBLElBQ2QsY0FBYztBQUFBLElBQ2QsZUFBZTtBQUFBLElBQ2Ysa0JBQWtCLENBQUM7QUFBQSxJQUNuQixjQUFjO0FBQUEsRUFDaEI7QUFBQSxFQUNBLFVBQVU7QUFBQSxJQUNSLGNBQWEsb0JBQUksS0FBSyxHQUFFLFlBQVk7QUFBQSxJQUNwQyxTQUFTO0FBQUEsRUFDWDtBQUNGO0FBS0EsZUFBZSxZQUFZO0FBQ3pCLE1BQUk7QUFDRixVQUFNLE9BQU8sTUFBTSxHQUFHLFNBQVMsWUFBWSxNQUFNO0FBQ2pELFdBQU8sS0FBSyxNQUFNLElBQUk7QUFBQSxFQUN4QixTQUFTLE9BQU87QUFFZCxXQUFPLEVBQUUsR0FBRyxjQUFjO0FBQUEsRUFDNUI7QUFDRjtBQUtBLGVBQWUsVUFBVSxPQUFPO0FBQzlCLE1B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
